-- source include/have_innodb.inc
#
# This is to show the configurable histogram_step_size variables 
#

SET @start_global_value_step_size_async_read = @@GLOBAL.innodb_histogram_step_size_async_read;
SET @start_global_value_step_size_async_write = @@GLOBAL.innodb_histogram_step_size_async_write;
SET @start_global_value_step_size_sync_read = @@GLOBAL.innodb_histogram_step_size_sync_read;
SET @start_global_value_step_size_sync_write = @@GLOBAL.innodb_histogram_step_size_sync_write;
SET @start_global_value_step_size_log_write = @@GLOBAL.innodb_histogram_step_size_log_write;
SET @start_global_value_step_size_double_write = @@GLOBAL.innodb_histogram_step_size_double_write;
SET @start_global_value_step_size_file_flush_time = @@GLOBAL.innodb_histogram_step_size_file_flush_time;
SET @start_global_value_step_size_fsync = @@GLOBAL.innodb_histogram_step_size_fsync;
SET @start_global_value_step_size_binlog_fsync = @@GLOBAL.histogram_step_size_binlog_fsync;

SHOW VARIABLES LIKE "%histogram%" ;

SET @@GLOBAL.innodb_histogram_step_size_async_read='16ms';
SET @@GLOBAL.innodb_histogram_step_size_async_write='16us';
SET @@GLOBAL.innodb_histogram_step_size_sync_read='32ms';
SET @@GLOBAL.innodb_histogram_step_size_sync_write='32us';
SET @@GLOBAL.innodb_histogram_step_size_log_write='64ms';
SET @@GLOBAL.innodb_histogram_step_size_double_write='16s';
SET @@GLOBAL.innodb_histogram_step_size_file_flush_time='16s';
SET @@GLOBAL.innodb_histogram_step_size_fsync='16s';
SET @@GLOBAL.histogram_step_size_binlog_fsync='16s';

SHOW VARIABLES LIKE "%histogram%" ;

SET @@GLOBAL.innodb_histogram_step_size_async_read = @start_global_value_step_size_async_read;
SET @@GLOBAL.innodb_histogram_step_size_async_write = @start_global_value_step_size_async_write;
SET @@GLOBAL.innodb_histogram_step_size_sync_read = @start_global_value_step_size_sync_read;
SET @@GLOBAL.innodb_histogram_step_size_sync_write = @start_global_value_step_size_sync_write;
SET @@GLOBAL.innodb_histogram_step_size_log_write = @start_global_value_step_size_log_write;
SET @@GLOBAL.innodb_histogram_step_size_double_write = @start_global_value_step_size_double_write;
SET @@GLOBAL.innodb_histogram_step_size_file_flush_time = @start_global_value_step_size_file_flush_time;
SET @@GLOBAL.innodb_histogram_step_size_fsync = @start_global_value_step_size_fsync;
SET @@GLOBAL.histogram_step_size_binlog_fsync = @start_global_value_step_size_binlog_fsync;

SHOW VARIABLES LIKE "%histogram%" ;

--echo Done
